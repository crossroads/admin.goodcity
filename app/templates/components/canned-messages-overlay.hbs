<div class="cmp search-overlay order">
  {{#popup-overlay open=open}}
    <div class="canned-search-container search-box ui">
      <div class="back-arow" {{action "cancel"}}>
        <i class="fa fa-angle-left"></i>
        <span>{{t 'cancel'}}</span>
      </div>
      <div class="search-field">
        {{focus-textfield
                name="searchText"
                id="searchText"
                placeholder=(t 'search.placeholder')
                value=searchText }}
        {{#if hasSearchText}}
          <i class="fa fa-times-circle clear-search" {{action "clearSearch"}}></i>
        {{/if}}
      </div>
    </div>
    <div class="canned-message-container">
      <div class="header">
        Manage pro-forma messages
      </div>
      {{#if displayResults}}
        {{#infinite-list height="82vh" loadMore=(action "loadMoreCannedMessages") as |cannedMessages| }}
          <ul>
            {{#each cannedMessages as |cannedMessage|}}
              <li>
                <div class="canned-message-list-container">
                  <div class="message-container">
                    <div>
                      {{#if cannedMessage.name}}
                        {{cannedMessage.name}}
                      {{else}}
                        {{cannedMessage.nameEn}}
                      {{/if}}
                    </div>
                    <div class="canned-content-container">
                      <div class="canned-content">
                        {{#if cannedMessage.content }}
                          {{cannedMessage.content}}
                        {{else}}
                          {{cannedMessage.contentEn}}
                        {{/if}}
                      </div>
                    </div>
                  </div>
                  <div class='language-container'>
                    <span {{action "setCannedResponse" cannedMessage.contentEn}}>EN</span>
                    <span class="{{if (is-not cannedMessage.contentZhTw) 'disabled'}}"
                          {{action "setCannedResponse" cannedMessage.contentZhTw}}>
                          中文
                    </span>
                  </div>
                </div>
              </li>
            {{/each}}
          </ul>
        {{/infinite-list}}
      {{/if}}
    </div>
  {{/popup-overlay}}
</div>
